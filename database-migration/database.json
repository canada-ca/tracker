{
  "type": "database",
  "name": "{{dbname}}",
  "url": "{{url}}",
  "rootPassword": "{{rootPassword}}",
  "options": [
    { "type": "user", "username": "{{username}}", "password": "{{password}}" },
    {
      "type": "documentcollection",
      "name": "users",
      "options": {
        "replicationFactor": 3,
        "writeConcern": 1,
        "numberOfShards": 6
      }
    },
    {
      "type": "documentcollection",
      "name": "organizations",
      "options": {
        "replicationFactor": 3,
        "writeConcern": 1,
        "numberOfShards": 6
      }
    },
    {
      "type": "documentcollection",
      "name": "domains",
      "options": {
        "replicationFactor": 3,
        "writeConcern": 1,
        "numberOfShards": 6
      }
    },
    {
      "type": "documentcollection",
      "name": "selectors",
      "options": {
        "replicationFactor": 3,
        "writeConcern": 1,
        "numberOfShards": 6
      }
    },
    {
      "type": "documentcollection",
      "name": "auditLogs",
      "options": {
        "replicationFactor": 3,
        "writeConcern": 1,
        "numberOfShards": 6
      }
    },
    {
      "type": "documentcollection",
      "name": "dns",
      "options": {
        "replicationFactor": 3,
        "writeConcern": 1,
        "numberOfShards": 6
      }
    },
    {
      "type": "documentcollection",
      "name": "web",
      "options": {
        "replicationFactor": 3,
        "writeConcern": 1,
        "numberOfShards": 6
      }
    },
    {
      "type": "documentcollection",
      "name": "webScan",
      "options": {
        "replicationFactor": 3,
        "writeConcern": 1,
        "numberOfShards": 6
      }
    },
    {
      "type": "documentcollection",
      "name": "guidanceTags",
      "options": {
        "replicationFactor": 3,
        "writeConcern": 1,
        "numberOfShards": 6
      }
    },
    {
      "type": "documentcollection",
      "name": "dkimGuidanceTags",
      "options": {
        "replicationFactor": 3,
        "writeConcern": 1,
        "numberOfShards": 6
      }
    },
    {
      "type": "documentcollection",
      "name": "dmarcGuidanceTags",
      "options": {
        "replicationFactor": 3,
        "writeConcern": 1,
        "numberOfShards": 6
      }
    },
    {
      "type": "documentcollection",
      "name": "spfGuidanceTags",
      "options": {
        "replicationFactor": 3,
        "writeConcern": 1,
        "numberOfShards": 6
      }
    },
    {
      "type": "documentcollection",
      "name": "httpsGuidanceTags",
      "options": {
        "replicationFactor": 3,
        "writeConcern": 1,
        "numberOfShards": 6
      }
    },
    {
      "type": "documentcollection",
      "name": "sslGuidanceTags",
      "options": {
        "replicationFactor": 3,
        "writeConcern": 1,
        "numberOfShards": 6
      }
    },
    {
      "type": "documentcollection",
      "name": "chartSummaries",
      "options": {
        "replicationFactor": 3,
        "writeConcern": 1,
        "numberOfShards": 6
      }
    },
    {
      "type": "documentcollection",
      "name": "dmarcSummaries",
      "options": {
        "replicationFactor": 3,
        "writeConcern": 1,
        "numberOfShards": 6
      }
    },
    {
      "type": "documentcollection",
      "name": "aggregateGuidanceTags",
      "options": {
        "replicationFactor": 3,
        "writeConcern": 1,
        "numberOfShards": 6
      }
    },
    {
      "type": "documentcollection",
      "name": "scanSummaryCriteria",
      "options": {
        "replicationFactor": 3,
        "writeConcern": 1,
        "numberOfShards": 6
      }
    },
    {
      "type": "documentcollection",
      "name": "chartSummaryCriteria",
      "options": {
        "replicationfactor": 3,
        "writeconcern": 1,
        "numberofshards": 6
      }
    },
    {
      "type": "documentcollection",
      "name": "scanSummaries",
      "options": {
        "replicationfactor": 3,
        "writeconcern": 1,
        "numberofshards": 6
      }
    },
    {
      "type": "documentcollection",
      "name": "organizationSummaries",
      "options": {
        "replicationfactor": 3,
        "writeconcern": 1,
        "numberofshards": 6
      }
    },
    {
      "type": "documentcollection",
      "name": "additionalFindings",
      "options": {
        "replicationfactor": 3,
        "writeconcern": 1,
        "numberofshards": 6
      }
    },
    {
      "type": "documentcollection",
      "name": "tags",
      "options": {
        "replicationfactor": 3,
        "writeconcern": 1,
        "numberofshards": 6
      }
    },
    {
      "type": "edgecollection",
      "name": "domainsToSelectors",
      "options": {
        "replicationFactor": 3,
        "writeConcern": 1,
        "numberOfShards": 6
      }
    },
    {
      "type": "edgecollection",
      "name": "affiliations",
      "options": {
        "replicationFactor": 3,
        "writeConcern": 1,
        "numberOfShards": 6
      }
    },
    {
      "type": "edgecollection",
      "name": "claims",
      "options": {
        "replicationFactor": 3,
        "writeConcern": 1,
        "numberOfShards": 6
      }
    },
    {
      "type": "edgecollection",
      "name": "favourites",
      "options": {
        "replicationFactor": 3,
        "writeConcern": 1,
        "numberOfShards": 6
      }
    },
    {
      "type": "edgecollection",
      "name": "domainsDNS",
      "options": {
        "replicationFactor": 3,
        "writeConcern": 1,
        "numberOfShards": 6
      }
    },
    {
      "type": "edgecollection",
      "name": "domainsWeb",
      "options": {
        "replicationFactor": 3,
        "writeConcern": 1,
        "numberOfShards": 6
      }
    },
    {
      "type": "edgecollection",
      "name": "webToWebScans",
      "options": {
        "replicationFactor": 3,
        "writeConcern": 1,
        "numberOfShards": 6
      }
    },
    {
      "type": "edgecollection",
      "name": "ownership",
      "options": {
        "replicationFactor": 3,
        "writeConcern": 1,
        "numberOfShards": 6
      }
    },
    {
      "type": "edgecollection",
      "name": "domainsToDmarcSummaries",
      "options": {
        "replicationFactor": 3,
        "writeConcern": 1,
        "numberOfShards": 6
      }
    },
    {
      "type": "delimiteranalyzer",
      "name": "space-delimiter-analyzer",
      "delimiter": " "
    },
    {
      "type": "searchview",
      "name": "domainSearch",
      "options": {
        "links": {
          "domains": {
            "fields": {
              "domain": { "analyzers": ["space-delimiter-analyzer"] }
            }
          }
        }
      }
    },
    {
      "type": "searchview",
      "name": "organizationSearch",
      "options": {
        "links": {
          "organizations": {
            "fields": {
              "orgDetails": {
                "fields": {
                  "en": {
                    "fields": {
                      "acronym": { "analyzers": ["text_en"] },
                      "name": { "analyzers": ["text_en"] }
                    }
                  },
                  "fr": {
                    "fields": {
                      "acronym": { "analyzers": ["text_fr"] },
                      "name": { "analyzers": ["text_fr"] }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    {
      "type": "searchview",
      "name": "userSearch",
      "options": {
        "links": {
          "users": {
            "fields": {
              "displayName": { "analyzers": ["text_en"] },
              "userName": { "analyzers": ["text_en"] }
            }
          }
        }
      }
    },
    {
      "type": "searchview",
      "name": "auditLogSearch",
      "options": {
        "links": {
          "auditLogs": {
            "fields": {
              "initiatedBy": {
                "fields": {
                  "userName": { "analyzers": ["text_en"] }
                }
              },
              "target": {
                "fields": {
                  "resource": { "analyzers": ["text_en"] }
                }
              }
            }
          }
        }
      }
    }
  ]
}
